<%- include('./partials/header') %>

<div class="min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 py-10">
  <div class="container mx-auto px-6">
    <div class="max-w-4xl mx-auto">
      
      <!-- Header -->
      <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
        <h1 class="text-3xl font-bold text-gray-800 flex items-center">
          <i class="ri-shopping-bag-line mr-3 text-indigo-600"></i>
          My Orders
        </h1>
        <p class="text-gray-600 mt-2">Track and manage your orders</p>
      </div>

      <% if (orders && orders.length > 0) { %>
        <div class="space-y-6">
          <% orders.forEach(order => { %>
            <div class="bg-white rounded-xl shadow-lg p-6">
              <div class="flex justify-between items-start mb-4">
                <div>
                  <h3 class="text-lg font-semibold text-gray-800">Order #<%= order._id.toString().slice(-6) %></h3>
                  <p class="text-sm text-gray-600">Placed on <%= new Date(order.date).toLocaleDateString() %></p>
                </div>
                <span class="px-3 py-1 text-sm rounded-full <%= order.status === 'Pending' ? 'bg-yellow-100 text-yellow-800' : order.status === 'Paid' ? 'bg-green-100 text-green-800' : order.status === 'Shipped' ? 'bg-blue-100 text-blue-800' : order.status === 'Delivered' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800' %>">
                  <%= order.status %>
                </span>
              </div>
              
              <!-- Order Details -->
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                <div>
                  <h4 class="font-semibold text-gray-700 mb-2">Delivery Address</h4>
                  <p class="text-sm text-gray-600">
                    <%= order.fullName %><br>
                    <%= order.address %><br>
                    <%= order.city %>, <%= order.pincode %><br>
                    Phone: <%= order.phone %>
                  </p>
                </div>
                <div>
                  <h4 class="font-semibold text-gray-700 mb-2">Payment Method</h4>
                  <p class="text-sm text-gray-600 capitalize">
                    <i class="<%= order.paymentMethod === 'cod' ? 'ri-hand-coin-line' : 'ri-bank-card-line' %> mr-1"></i>
                    <%= order.paymentMethod === 'cod' ? 'Cash on Delivery' : 'Online Payment' %>
                  </p>
                </div>
              </div>

              <!-- Order Items -->
              <div class="border-t pt-4">
                <h4 class="font-semibold text-gray-700 mb-2">Items Ordered</h4>
                <div class="text-sm text-gray-600">
                  <% if (order.items && order.items.length > 0) { %>
                    <p><%= order.items.length %> item(s) ordered</p>
                  <% } else { %>
                    <p>Order details not available</p>
                  <% } %>
                </div>
              </div>
            </div>
          <% }) %>
        </div>
      <% } else { %>
        <div class="bg-white rounded-xl shadow-lg p-12 text-center">
          <i class="ri-shopping-bag-line text-6xl text-gray-300 mb-4"></i>
          <h3 class="text-xl font-semibold text-gray-700 mb-2">No Orders Yet</h3>
          <p class="text-gray-600 mb-6">You haven't placed any orders yet. Start shopping to see your orders here!</p>
          <a href="/shop" class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-indigo-700 hover:to-purple-700 transition-all">
            Start Shopping
          </a>
        </div>
      <% } %>

      <!-- Back to Profile -->
      <div class="mt-6 text-center">
        <a href="/profile" class="text-indigo-600 hover:text-indigo-800 font-medium">
          <i class="ri-arrow-left-line mr-1"></i>
          Back to Profile
        </a>
      </div>
    </div>
  </div>
</div>

<%- include('./partials/footer') %>